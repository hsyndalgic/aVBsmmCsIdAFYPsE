"0",""
"0","# note to start nrounds from 200, as smaller learning rates result in errors so"
"0","# big with lower starting points that they'll mess the scales"
"0","nrounds <- 1000"
"0","tune_grid <- expand.grid("
"0","  nrounds = seq(from = 200, to = nrounds, by = 50),"
"0","  eta = c(0.025, 0.05, 0.1, 0.3),"
"0","  max_depth = c(2, 3, 4, 5, 6),"
"0","  gamma = 0,"
"0","  colsample_bytree = 1,"
"0","  min_child_weight = 1,"
"0","  subsample = 1"
"0",")"
"0",""
"0","tune_control <- caret::trainControl("
"0","  method = ""cv"", # cross-validation"
"0","  number = 5, # with n folds "
"0","  #index = createFolds(tr_treated$Id_clean), # fix the folds"
"0","  verboseIter = FALSE, # no training log"
"0","  allowParallel = TRUE # FALSE for reproducible results "
"0",")"
"0",""
"0","xgb_tune <- caret::train("
"0","  y~., data = train,"
"0","  trControl = tune_control,"
"0","  tuneGrid = tune_grid,"
"0","  method = ""xgbTree"","
"0","  verbose = TRUE"
"0",")"
"2","
"
